<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>

<AnchorPane prefHeight="500" prefWidth="900" style="-fx-background-color: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1" fx:controller="tn.cinema.controllers.GameController">

    <children>

        <!-- Écran de début -->
        <AnchorPane fx:id="startPane" layoutX="50.0" layoutY="30.0" prefHeight="420.0" prefWidth="800.0" style="-fx-background-color: #1a1a2e; -fx-background-radius: 20; -fx-border-color: #00adb5; -fx-border-radius: 20;">
            <children>
                <!-- Titre -->
                <Label layoutX="219.0" layoutY="151.0" style="-fx-font-size: 30px; -fx-text-fill: #eeeeee; -fx-font-weight: bold;" text="🎮 Bienvenue dans le jeu !" />

                <!-- Bouton de démarrage -->
                <Button layoutX="311.0" layoutY="252.0" onAction="#startGame" style="-fx-font-size: 18px; -fx-background-color: #00adb5; -fx-text-fill: white; -fx-background-radius: 10; -fx-font-weight: bold;" text="🚀 Commencer le jeu" />
            </children>
        </AnchorPane>

        <!-- Interface du jeu -->
        <AnchorPane fx:id="gamePane" layoutX="50.0" layoutY="30.0" prefHeight="420.0" prefWidth="800.0" style="-fx-background-color: #1a1a2e; -fx-background-radius: 20; -fx-border-color: #00adb5; -fx-border-radius: 20;" visible="false">
            <children>
                <!-- Titre -->
                <Label layoutX="280.0" layoutY="20.0" style="-fx-font-size: 26px; -fx-text-fill: #eeeeee; -fx-font-weight: bold;" text="🎯 Attraper le bon produit !" />

                <!-- Image du produit -->
                <ImageView fx:id="productImage" fitHeight="200.0" fitWidth="300.0" layoutX="250.0" layoutY="70.0" preserveRatio="true" style="-fx-effect: dropshadow(gaussian, black, 10, 0.5, 0, 0);" />

                <!-- Boutons des options -->
                <HBox alignment="CENTER" layoutX="100.0" layoutY="300.0" spacing="50.0">
                    <children>
                        <Button fx:id="option1Button" onAction="#handleAnswer1" prefHeight="40.0" prefWidth="180.0" style="-fx-font-size: 14px; -fx-background-color: #393e46; -fx-text-fill: white; -fx-background-radius: 10;" />
                        <Button fx:id="option2Button" onAction="#handleAnswer2" prefHeight="40.0" prefWidth="180.0" style="-fx-font-size: 14px; -fx-background-color: #393e46; -fx-text-fill: white; -fx-background-radius: 10;" />
                        <Button fx:id="option3Button" onAction="#handleAnswer3" prefHeight="40.0" prefWidth="180.0" style="-fx-font-size: 14px; -fx-background-color: #393e46; -fx-text-fill: white; -fx-background-radius: 10;" />
                    </children>
                </HBox>

                <!-- Affichage du score -->
                <Label fx:id="scoreLabel" layoutX="20.0" layoutY="20.0" style="-fx-font-size: 14px; -fx-text-fill: #00adb5;" text="Score: 0 | Round 0/5" />
            </children>
        </AnchorPane>

        <!-- Écran de fin -->
        <AnchorPane fx:id="endPane" layoutX="50.0" layoutY="30.0" prefHeight="420.0" prefWidth="800.0" style="-fx-background-color: #1a1a2e; -fx-background-radius: 20; -fx-border-color: #00adb5; -fx-border-radius: 20;" visible="false">
            <children>
                <!-- Titre -->
                <Label layoutX="250.0" layoutY="100.0" style="-fx-font-size: 26px; -fx-text-fill: #eeeeee; -fx-font-weight: bold;" text="🎉 Jeu terminé !" />

                <!-- Affichage du score final -->
                <Label fx:id="finalScoreText" layoutX="300.0" layoutY="180.0" style="-fx-font-size: 24px; -fx-text-fill: #00adb5;" text="🔥 Votre score : 0 / 5" />

                <!-- Bouton rejouer -->
                <Button layoutX="330.0" layoutY="250.0" onAction="#playAgain" style="-fx-font-size: 18px; -fx-background-color: #00adb5; -fx-text-fill: white; -fx-background-radius: 10; -fx-font-weight: bold;" text="Jouer à nouveau" />

                <!-- Bouton retour à l'écran de début -->
                <Button layoutX="330.0" layoutY="300.0" onAction="#goToStartScreen" style="-fx-font-size: 18px; -fx-background-color: #00adb5; -fx-text-fill: white; -fx-background-radius: 10; -fx-font-weight: bold;" text="Retour à l'écran de début" />
            </children>
        </AnchorPane>

        <!-- Bouton de démarrage du jeu -->
        <Button layoutX="390.0" layoutY="456.0" onAction="#handleQuit" text="❌ Quitter le jeu"
                style="-fx-background-color: linear-gradient(to right, #f44336, #e53935);
               -fx-text-fill: white;
               -fx-font-size: 18px;
               -fx-font-weight: bold;
               -fx-background-radius: 30;
               -fx-cursor: hand;
               -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.3), 10, 0, 0, 4);" />
    </children>
</AnchorPane>
