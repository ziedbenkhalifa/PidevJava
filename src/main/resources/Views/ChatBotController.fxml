<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns="http://javafx.com/javafx/8.0.171"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.cinema.Controllers.ChatBotController"
            prefWidth="500" prefHeight="600"
            style="-fx-background-color: #131b31; -fx-font-family: 'Poppins', 'Segoe UI', Arial, sans-serif;">

    <!-- En-tête néon cinéma -->
    <top>
        <HBox alignment="CENTER"
              style="-fx-background-color: linear-gradient(to right, #2a1b66, #131b31); -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.4), 15, 0, 0, 3);">
            <padding>
                <Insets top="18" right="15" bottom="18" left="15"/>
            </padding>
            <Label text="🎬 CINÉ·CHAT 🍿"
                   style="-fx-text-fill: #d9c2ff; -fx-font-weight: bold; -fx-font-size: 22px; -fx-effect: dropshadow(gaussian, rgba(176, 144, 255, 0.8), 10, 0, 0, 0);">
            </Label>
        </HBox>
    </top>

    <!-- Zone principale avec effet galaxie -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true"
                    style="-fx-background: transparent; -fx-background-color: transparent; -fx-border-color: #47379c; -fx-border-width: 1; -fx-border-radius: 8;">
            <content>
                <VBox fx:id="chatContainer" spacing="12"
                      style="-fx-background-color: #1d2645; -fx-background-radius: 8;">
                    <padding>
                        <Insets top="15" right="15" bottom="15" left="15"/>
                    </padding>

                    <!-- Zone d'affichage des messages -->
                    <TextArea fx:id="outputArea" editable="false" wrapText="true" VBox.vgrow="ALWAYS"
                              style="-fx-background-color: #242e52; -fx-border-color: #4b57a5; -fx-border-radius: 12; -fx-background-radius: 12; -fx-font-size: 14px; -fx-text-fill: #e0e6ff; -fx-control-inner-background: #242e52; -fx-focus-color: #8878d9; -fx-faint-focus-color: #8878d922;"/>
                </VBox>
            </content>
        </ScrollPane>
    </center>

    <!-- Zone de saisie en bas style futuriste -->
    <bottom>
        <VBox spacing="12"
              style="-fx-background-color: #192340; -fx-border-color: #6e4eff; -fx-border-width: 2 0 0 0; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.3), 15, 0, 0, -3);">
            <padding>
                <Insets top="18" right="18" bottom="15" left="18"/>
            </padding>

            <HBox spacing="12" alignment="CENTER">
                <TextField fx:id="inputField" promptText="✨ Discutons cinéma..."
                           HBox.hgrow="ALWAYS"
                           style="-fx-background-color: #242e52; -fx-border-color: #4b57a5; -fx-border-radius: 25; -fx-background-radius: 25; -fx-padding: 12 20; -fx-font-size: 14px; -fx-text-fill: #e0e6ff; -fx-prompt-text-fill: #8a92c2;"/>

                <Button text="💬 Envoyer" onAction="#handleUserInput"
                        minWidth="110" minHeight="42"
                        style="-fx-background-color: linear-gradient(to right, #6e4eff, #805aff); -fx-text-fill: white; -fx-background-radius: 25; -fx-cursor: hand; -fx-padding: 10 20; -fx-font-weight: bold; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.6), 8, 0, 0, 0); -fx-font-size: 13px;"/>
            </HBox>

            <!-- Barre de raccourcis avec emojis -->
            <HBox spacing="10" alignment="CENTER">
                <Label text="🎬 Salle"
                       style="-fx-background-color: #2a2b5b; -fx-text-fill: #c1c8ff; -fx-background-radius: 18; -fx-padding: 8 15; -fx-cursor: hand; -fx-font-size: 12px; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.3), 5, 0, 0, 0);"/>
                <Label text="🎥 Équipement "
                       style="-fx-background-color: #2a2b5b; -fx-text-fill: #c1c8ff; -fx-background-radius: 18; -fx-padding: 8 15; -fx-cursor: hand; -fx-font-size: 12px; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.3), 5, 0, 0, 0);"/>
                <Label text="🍿 Snacks"
                       style="-fx-background-color: #2a2b5b; -fx-text-fill: #c1c8ff; -fx-background-radius: 18; -fx-padding: 8 15; -fx-cursor: hand; -fx-font-size: 12px; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.3), 5, 0, 0, 0);"/>
                <Label text="⭐ Review"
                       style="-fx-background-color: #2a2b5b; -fx-text-fill: #c1c8ff; -fx-background-radius: 18; -fx-padding: 8 15; -fx-cursor: hand; -fx-font-size: 12px; -fx-effect: dropshadow(gaussian, rgba(110, 78, 255, 0.3), 5, 0, 0, 0);"/>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>